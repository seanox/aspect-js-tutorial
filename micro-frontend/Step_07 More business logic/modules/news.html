<form>
  <p>
    <label for="market">{{messages.news.market}}</label>
    <select id="market" value="{{news.market.value}}"
        iterate="{{markets:news.market.list}}" events="change">
      <!--
        The inner HTML of select is a template that is removed at runtime and
        rendered at each iteration and then added back as final markup. Since
        the template always contains the first option element with "Please
        select" in addition to the data set, this element must be removed from
        the second iteration onwards.
      -->
      <option value="" selected="selected" disabled condition="{{markets.index eq 0}}">
        {{messages.news.select}}</option>
      <!--
        disabled is one of numerous attributes whose presence already has an
        effect. The expression language cannot remove attributes, but the
        renderer can if the value is undefined.
      -->
      <option value="{{markets.item.id}}" disabled="{{markets.item.news ? undefined : true}}">
        {{markets.item.text}}</option>
    </select>
  </p>
  <p>
    <label for="datatype">{{messages.news.datatype}}</label>
    <!--
      Datatype is dependent on the market selection and only becomes active when
      a market has been selected. The data is then also retrieved from the
      backend.
    -->
    <select id="datatype" value="{{news.datatype.value}}" disabled="{{!news.market.value}}"
        iterate="{{datatypes:news.datatype.list || [undefined]}}" events="change">
      <option value="" selected="selected" disabled condition="{{datatypes.index eq 0}}">
        {{messages.news.select}}</option>
      <option value="{{datatypes.item.id}}" disabled="{{datatypes.item.news ? undefined : true}}">
        {{datatypes.item.text}}</option>
    </select>
  </p>
  <p>
    <button type="button" id="search" disabled="{{!news.market.value or !news.datatype.value}}">
      <span>&#10095;</span>
      {{messages.news.search}}
    </button>
  </p>
</form>

<h2 output="{{messages.news.results.empty}}"></h2>
<h2 output="{{messages.news.results}}"></h2>
<table id="news">
  <tr>
    <th>
      <input type="checkbox" id="toggle"/>
      <label for="toggle"></label>
    </th>
    <th>{{messages.news.date}}</th>
    <th>{{messages.news.market}}</th>
    <th>{{messages.news.id}}</th>
    <th>{{messages.news.title}}</th>
    <th>{{messages.news.description}}</th>
    <th>{{messages.news.change}}</th>
  </tr>
  <tr class="group">
    <td></td>
    <td colspan="6">xxxxxxxx xxxxxx xxx xxxx</td>
  </tr>
  <tr>
    <td>
      <input type="checkbox" id="items:1" value="1"/>
      <label for="item:1"></label>
    </td>
    <td>00/00/0000</td>
    <td>Europe</td>
    <td>000000</td>
    <td>
      <span>xxx xxxx xxxxxxxxxx</span>
      xxxxx x xxxx
    </td>
    <td>x xxx xxxx xxxxxxxxxx xxxxxxxx xxxxxx xxx xxxx xxxxxx xxxxxx xxx xxxxxxxx xx xxxx</td>
    <td>xxxxxxxx xxxxxx xxx</td>
  </tr>
  <tr>
    <td>
      <input type="checkbox" id="items:2" value="2"/>
      <label for="item:2"></label>
    </td>
    <td>00/00/0000</td>
    <td>Europe</td>
    <td>000000</td>
    <td>
      <span>xxx xxxx xxxxxxxxxx</span>
      xxxxx x xxxx
    </td>
    <td>x xxx xxxx xxxxxxxxxx xxxxxxxx xxxxxx xxx xxxx xxxxxx xxxxxx xxx xxxxxxxx xx xxxx</td>
    <td>xxxxxxxx xxxxxx xxx</td>
  </tr>
  <tr>
    <td>
      <input type="checkbox" id="items:3" value="3"/>
      <label for="item:3"></label>
    </td>
    <td>00/00/0000</td>
    <td>Europe</td>
    <td>000000</td>
    <td>
      <span>xxx xxxx xxxxxxxxxx</span>
      xxxxx x xxxx
    </td>
    <td>x xxx xxxx xxxxxxxxxx xxxxxxxx xxxxxx xxx xxxx xxxxxx xxxxxx xxx xxxxxxxx xx xxxx</td>
    <td>xxxxxxxx xxxxxx xxx</td>
  </tr>
  <tr>
    <td>
      <input type="checkbox" id="items:4" value="4"/>
      <label for="item:4"></label>
    </td>
    <td>00/00/0000</td>
    <td>Europe</td>
    <td>000000</td>
    <td>
      <span>xxx xxxx xxxxxxxxxx</span>
      xxxxx x xxxx
    </td>
    <td>x xxx xxxx xxxxxxxxxx xxxxxxxx xxxxxx xxx xxxx xxxxxx xxxxxx xxx xxxxxxxx xx xxxx</td>
    <td>xxxxxxxx xxxxxx xxx</td>
  </tr>
  <tr>
    <td>
      <input type="checkbox" id="items:5" value="5"/>
      <label for="item:5"></label>
    </td>
    <td>00/00/0000</td>
    <td>Europe</td>
    <td>000000</td>
    <td>
      <span>xxx xxxx xxxxxxxxxx</span>
      xxxxx x xxxx
    </td>
    <td>x xxx xxxx xxxxxxxxxx xxxxxxxx xxxxxx xxx xxxx xxxxxx xxxxxx xxx xxxxxxxx xx xxxx</td>
    <td>xxxxxxxx xxxxxx xxx</td>
  </tr>
  <tr>
    <td>
      <input type="checkbox" id="items:6" value="6"/>
      <label for="item:6"></label>
    </td>
    <td>00/00/0000</td>
    <td>Europe</td>
    <td>000000</td>
    <td>
      <span>xxx xxxx xxxxxxxxxx</span>
      xxxxx x xxxx
    </td>
    <td>x xxx xxxx xxxxxxxxxx xxxxxxxx xxxxxx xxx xxxx xxxxxx xxxxxx xxx xxxxxxxx xx xxxx</td>
    <td>xxxxxxxx xxxxxx xxx</td>
  </tr>
  <tr class="group">
    <td></td>
    <td colspan="6">xxxxxxxx xxxxxx xxx xxxx</td>
  </tr>
  <tr>
    <td>
      <input type="checkbox" id="items:7" value="7"/>
      <label for="item:7"></label>
    </td>
    <td>00/00/0000</td>
    <td>Europe</td>
    <td>000000</td>
    <td>
      <span>xxx xxxx xxxxxxxxxx</span>
      xxxxx x xxxx
    </td>
    <td>x xxx xxxx xxxxxxxxxx xxxxxxxx xxxxxx xxx xxxx xxxxxx xxxxxx xxx xxxxxxxx xx xxxx</td>
    <td>xxxxxxxx xxxxxx xxx</td>
  </tr>
  <tr>
    <td>
      <input type="checkbox" id="items:8" value="8"/>
      <label for="item:8"></label>
    </td>
    <td>00/00/0000</td>
    <td>Europe</td>
    <td>000000</td>
    <td>
      <span>xxx xxxx xxxxxxxxxx</span>
      xxxxx x xxxx
    </td>
    <td>x xxx xxxx xxxxxxxxxx xxxxxxxx xxxxxx xxx xxxx xxxxxx xxxxxx xxx xxxxxxxx xx xxxx</td>
    <td>xxxxxxxx xxxxxx xxx</td>
  </tr>
  <tr>
    <td>
      <input type="checkbox" id="items:9" value="9"/>
      <label for="item:9"></label>
    </td>
    <td>00/00/0000</td>
    <td>Europe</td>
    <td>000000</td>
    <td>
      <span>xxx xxxx xxxxxxxxxx</span>
      xxxxx x xxxx
    </td>
    <td>x xxx xxxx xxxxxxxxxx xxxxxxxx xxxxxx xxx xxxx xxxxxx xxxxxx xxx xxxxxxxx xx xxxx</td>
    <td>xxxxxxxx xxxxxx xxx</td>
  </tr>
  <tr>
    <td>
      <input type="checkbox" id="items:10" value="10"/>
      <label for="item:10"></label>
    </td>
    <td>00/00/0000</td>
    <td>Europe</td>
    <td>000000</td>
    <td>
      <span>xxx xxxx xxxxxxxxxx</span>
      xxxxx x xxxx
    </td>
    <td>x xxx xxxx xxxxxxxxxx xxxxxxxx xxxxxx xxx xxxx xxxxxx xxxxxx xxx xxxxxxxx xx xxxx</td>
    <td>xxxxxxxx xxxxxx xxx</td>
  </tr>
</table>

<form>
  <table>
    <tr>
      <td>
        <p>
          <label for="functions">
            {{messages.news.function}}
          </label>
          <select id="functions">
            <option value="" selected="selected" disabled="disabled">
              {{messages.news.select}}</option>
            <option>{{messages.news.function.preview.you}}</option>
            <option>{{messages.news.function.preview.email}}</option>
            <option>{{messages.news.function.recipients}}</option>
            <option>{{messages.news.function.publish}}</option>
          </select>
        </p>
      </td>
      <td>
        <p>
          <label for="recipients">
            {{news.function.email.error}} /
            {{messages.news.function.email}}
          </label>
          <input type="text" id="recipients"/>
        </p>
      </td>
    </tr>
  </table>
  <p>
    <button type="button" id="apply">
      <span>&#10095;</span>
      Apply
    </button>
  </p>
</form>

<h2 output="{{messages.news.recipients.empty}}"></h2>
<h2 output="{{messages.news.recipients}}"></h2>
<table id="recipients">
  <tr>
    <th>{{messages.news.language}} Language</th>
    <th>{{messages.news.email}} Mail address (obfuscated)</th>
    <th>{{messages.news.permissions}} Permissions</th>
    <th>{{messages.news.markets}} Markets</th>
  </tr>
  <tr>
    <td>xx</td>
    <td>x***.x******@example.local</td>
    <td>xxx xxx xxx<br/>x x x x x</td>
    <td>xxxxxx</td>
  </tr>
  <tr>
    <td>xx</td>
    <td>x***.x******@example.local</td>
    <td>xxx xxx xxx<br/>x x x x x</td>
    <td>xxxxxx</td>
  </tr>
  <tr>
    <td>xx</td>
    <td>x***.x******@example.local</td>
    <td>xxx xxx xxx<br/>x x x x x</td>
    <td>xxxxxx</td>
  </tr>
  <tr>
    <td>xx</td>
    <td>x***.x******@example.local</td>
    <td>xxx xxx xxx<br/>x x x x x</td>
    <td>xxxxxx</td>
  </tr>
  <tr>
    <td>xx</td>
    <td>x***.x******@example.local</td>
    <td>xxx xxx xxx<br/>x x x x x</td>
    <td>xxxxxx</td>
  </tr>
  <tr>
    <td>xx</td>
    <td>x***.x******@example.local</td>
    <td>xxx xxx xxx<br/>x x x x x</td>
    <td>xxxxxx</td>
  </tr>
  <tr>
    <td>xx</td>
    <td>x***.x******@example.local</td>
    <td>xxx xxx xxx<br/>x x x x x</td>
    <td>xxxxxx</td>
  </tr>
  <tr>
    <td>xx</td>
    <td>x***.x******@example.local</td>
    <td>xxx xxx xxx<br/>x x x x x</td>
    <td>xxxxxx</td>
  </tr>
  <tr>
    <td>xx</td>
    <td>x***.x******@example.local</td>
    <td>xxx xxx xxx<br/>x x x x x</td>
    <td>xxxxxx</td>
  </tr>
  <tr>
    <td>xx</td>
    <td>x***.x******@example.local</td>
    <td>xxx xxx xxx<br/>x x x x x</td>
    <td>xxxxxx</td>
  </tr>
</table>